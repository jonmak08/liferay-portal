<?xml version="1.0"?>

<custom-sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMListFinder.countByC_G_L_N_D">
		<![CDATA[
			SELECT
				COUNT(DISTINCT listId) AS COUNT_VALUE
			FROM
				DDMList
			WHERE
				(DDMList.companyId = ?) AND
				(groupId = ?) AND
				(
					(listKey LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(lower(DDMList.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(description LIKE ? [$AND_OR_NULL_CHECK$])
				)
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMListFinder.findByC_G_L_N_D">
		<![CDATA[
			SELECT
				{DDMList.*}
			FROM
				DDMList
			WHERE
				(DDMList.companyId = ?) AND
				(groupId = ?) AND
				(
					(listKey LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(lower(DDMList.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(description LIKE ? [$AND_OR_NULL_CHECK$])
				)
			ORDER BY
				DDMList.listId DESC
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMStructureFinder.countByC_G_C_N_D_S_T">
		<![CDATA[
			SELECT
				COUNT(DISTINCT DDMStructure.structureId) AS COUNT_VALUE
			FROM
				DDMStructure
			WHERE
				(DDMStructure.companyId = ?) AND
				[$GROUP_ID$]
				(DDMStructure.classNameId = ? OR ? IS NULL) AND
				(
					(lower(DDMStructure.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMStructure.description LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMStructure.storageType LIKE ? [$AND_OR_NULL_CHECK$])
				) AND
				(DDMStructure.type_ = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMStructureFinder.findByC_G_C_N_D_S_T">
		<![CDATA[
			SELECT
				{DDMStructure.*}
			FROM
				(
				SELECT DISTINCT
					DDMStructure.structureId
				FROM
					DDMStructure
				WHERE
					(DDMStructure.companyId = ?) AND
					[$GROUP_ID$]
					(DDMStructure.classNameId = ? OR ? IS NULL) AND
					(
						(lower(DDMStructure.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMStructure.description LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMStructure.storageType LIKE ? [$AND_OR_NULL_CHECK$])
					) AND
					(DDMStructure.type_ = ?)
				)
				TEMP_TABLE
					INNER JOIN DDMStructure ON
						TEMP_TABLE.structureId = DDMStructure.structureId
			ORDER BY
				DDMStructure.structureId DESC
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMTemplateFinder.countByG_C_SC">
		<![CDATA[
			SELECT
				COUNT(DDMTemplate.templateId) AS COUNT_VALUE
			FROM
				DDMTemplate
			WHERE
				[$GROUP_ID$]
				(DDMTemplate.classNameId = ?) AND
				(
					(DDMTemplate.classPK = 0) OR
					(DDMTemplate.classPK IN (
						SELECT
							DDMStructure.structureId
						FROM
							DDMStructure
						WHERE
							(DDMStructure.classNameId = ?)
					))
				)
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMTemplateFinder.countByC_G_C_C_N_D_T_M_L">
		<![CDATA[
			SELECT
				COUNT(DISTINCT DDMTemplate.templateId) AS COUNT_VALUE
			FROM
				DDMTemplate
			WHERE
				(DDMTemplate.companyId = ?) AND
				[$GROUP_ID$]
				[$CLASSNAME_ID$]
				[$CLASS_PK$]
				(
					(lower(DDMTemplate.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMTemplate.description LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMTemplate.type_ LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMTemplate.mode_ LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
					(DDMTemplate.language LIKE ? [$AND_OR_NULL_CHECK$])
				)
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMTemplateFinder.findByG_C_SC">
		<![CDATA[
			SELECT
				{DDMTemplate.*}
			FROM
				DDMTemplate
			WHERE
				[$GROUP_ID$]
				(DDMTemplate.classNameId = ?) AND
				(
					(DDMTemplate.classPK = 0) OR
					(DDMTemplate.classPK IN (
						SELECT
							DDMStructure.structureId
						FROM
							DDMStructure
						WHERE
							(DDMStructure.classNameId = ?)
					))
				)
			ORDER BY
				DDMTemplate.templateId DESC
		]]>
	</sql>
	<sql id="com.liferay.portlet.dynamicdatamapping.service.persistence.DDMTemplateFinder.findByC_G_C_C_N_D_T_M_L">
		<![CDATA[
			SELECT
				{DDMTemplate.*}
			FROM
				(
				SELECT DISTINCT
					DDMTemplate.templateId
				FROM
					DDMTemplate
				WHERE
					(DDMTemplate.companyId = ?) AND
					[$GROUP_ID$]
					[$CLASSNAME_ID$]
					[$CLASS_PK$]
					(
						(lower(DDMTemplate.name) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMTemplate.description LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMTemplate.type_ LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMTemplate.mode_ LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
						(DDMTemplate.language LIKE ? [$AND_OR_NULL_CHECK$])
					)
				)
				TEMP_TABLE
					INNER JOIN DDMTemplate ON
						TEMP_TABLE.templateId = DDMTemplate.templateId
			ORDER BY
				DDMTemplate.templateId DESC
		]]>
	</sql>
</custom-sql>