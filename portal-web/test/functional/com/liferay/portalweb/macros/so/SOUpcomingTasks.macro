<definition>
	<command name="resolveUpcomingTask">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<var name="key_taskDescription" value="${taskDescription}" />

		<if>
			<equals arg1="${taskPriority}" arg2="High" />
			<then>
				<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_HIGH" value1="${taskDescription}" />
			</then>
			<elseif>
				<equals arg1="${taskPriority}" arg2="Low" />
				<then>
					<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_LOW" value1="${taskDescription}" />
				</then>
			</elseif>
			<else>
				<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_NORMAL" value1="${taskDescription}" />
			</else>
		</if>

		<execute function="#selectFrame" locator1="SOTasksTask#TASK_IFRAME" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_DESCRIPTION" value1="${taskDescription}" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_ASSIGNEE" value1="Assigned to ${taskAssignee}" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_REPORTER" value1="Created by ${taskReporter}" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_PRIORITY_NORMAL" value1="Normal" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_STATUS" value1="Open" />
		<execute function="#assertTextNotPresent" value1="Resolved" />
		<execute function="#click" locator1="SOTasksTask#TASK_RESOLVE_BUTTON" value1="Resolve" />
		<execute function="#assertTextEquals" locator1="SOTasksTask#TASK_STATUS" value1="Resolved" />
		<execute function="#selectFrame" value1="relative=top" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<if>
			<equals arg1="${taskPriority}" arg2="High" />
			<then>
				<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_HIGH" value1="${taskDescription}" />
			</then>
			<elseif>
				<equals arg1="${taskPriority}" arg2="Low" />
				<then>
					<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_LOW" value1="${taskDescription}" />
				</then>
			</elseif>
			<else>
				<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_NORMAL" value1="${taskDescription}" />
			</else>
		</if>

		<execute function="#assertClick" locator1="SOUpcomingTasks#VIEW_ALL_TASKS_LINK" value1="View All Tasks" />

		<execute macro="SOTasks#viewTask">
			<var name="percentCompletion" value="100" />
		</execute>
	</command>

	<command name="viewUpcomingTask">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<var locator="USER_NAME" name="currentUser" path="Dockbar" />
		<var name="key_taskDescription" value="${taskDescription}" />

		<if>
			<equals arg1="${percentCompletion}" arg2="100" />
			<then>
				<execute function="#assertTextNotPresent" value1="${taskDescription}" />
			</then>
			<elseif>
				<equals arg1="${taskAssignee}" arg2="${currentUser}" />
				<then>
					<if>
						<equals arg1="${taskPriority}" arg2="High" />
						<then>
							<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_HIGH" value1="${taskDescription}" />
						</then>
						<elseif>
							<equals arg1="${taskPriority}" arg2="Low" />
							<then>
								<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_LOW" value1="${taskDescription}" />
							</then>
						</elseif>
						<else>
							<execute function="#assertClick" locator1="SOUpcomingTasks#TASK_DESCRIPTION_NORMAL" value1="${taskDescription}" />
						</else>
					</if>

					<execute macro="SOTasks#viewTaskDetails">
						<var name="viewTaskAssigneeDetails" value="true" />
					</execute>
				</then>
			</elseif>
			<else>
				<execute function="#assertTextNotPresent" value1="${taskDescription}" />
			</else>
		</if>

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute function="#assertClick" locator1="SOUpcomingTasks#VIEW_ALL_TASKS_LINK" value1="View All Tasks" />

		<execute macro="SOTasks#viewTask" />
	</command>

	<command name="viewUpcomingTaskNone">
		<var name="key_taskDescription" value="${taskDescription}" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute function="#assertTextEquals" locator1="SOUpcomingTasks#VIEW_ALL_TASKS_LINK" value1="View All Tasks" />
		<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_HIGH" />
		<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_LOW" />
		<execute function="#assertElementNotPresent" locator1="SOUpcomingTasks#TASK_DESCRIPTION_NORMAL" />
		<execute function="#assertTextNotPresent" value1="${taskDescription}" />
		<execute function="#assertClick" locator1="SOUpcomingTasks#VIEW_ALL_TASKS_LINK" value1="View All Tasks" />

		<execute function="#assertClick" locator1="SOTasks#ASSIGNED_TO_ME_LINK" value1="Assigned to Me" />
		<execute function="#check" locator1="SOTasks#SHOW_COMPLETED_TASKS_CHECKBOX" />
		<execute function="#assertTextEquals" locator1="SOTasks#INFO_MESSAGE" value1="No tasks were found." />
		<execute function="#assertTextNotPresent" value1="${taskDescription}" />
		<execute function="#assertClick" locator1="SOTasks#I_HAVE_CREATED_LINK" value1="I Have Created" />
		<execute function="#check" locator1="SOTasks#SHOW_COMPLETED_TASKS_CHECKBOX" />
		<execute function="#assertTextEquals" locator1="SOTasks#INFO_MESSAGE" value1="No tasks were found." />
		<execute function="#assertTextNotPresent" value1="${taskDescription}" />
	</command>
</definition>