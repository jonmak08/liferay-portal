<definition>
	<command name="assertDefaultPG">
		<for list="${roleList}" param="roleName" >
			<var name="roleName" value="${roleName}" />

			<var name="key_roleName" value="${roleName?replace(' ', '-')}" />
			<var name="key_roleName" value="${key_roleName?lowercase()}" />

			<if>
				<or>
					<equals arg1="${roleName}" arg2="Guest" />
					<equals arg1="${roleName}" arg2="Site Member" />
				</or>
				<then>
					<execute function="#assertNotChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_ADD_TO_PAGE_CHECKBOX" />
				</then>
				<else>
					<execute function="#assertChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_ADD_TO_PAGE_CHECKBOX" />
				</else>
			</if>

			<if>
				<or>
					<equals arg1="${roleName}" arg2="Guest" />
					<equals arg1="${roleName}" arg2="Power User" />
					<equals arg1="${roleName}" arg2="Site Member" />
					<equals arg1="${roleName}" arg2="User" />
				</or>
				<then>
					<execute function="#assertNotChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_CONFIGURATION_CHECKBOX" />
					<execute function="#assertNotChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_PERMISSIONS_CHECKBOX" />
					<execute function="#assertNotChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_ACCESS_IN_CONTROL_PANEL_CHECKBOX" />
				</then>
				<else>
					<execute function="#assertChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_CONFIGURATION_CHECKBOX" />
					<execute function="#assertChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_PERMISSIONS_CHECKBOX" />
					<execute function="#assertChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_ACCESS_IN_CONTROL_PANEL_CHECKBOX" />
				</else>
			</if>

			<if>
				<or>
					<equals arg1="${roleName}" arg2="Power User" />
					<equals arg1="${roleName}" arg2="User" />
				</or>
				<then>
					<execute function="#assertNotChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX" />
				</then>
				<else>
					<execute function="#assertChecked" locator1="Permissions#CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX" />
				</else>
			</if>
		</for>
	</command>

	<command name="gotoBlogsConfiguration">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute function="#click" locator1="PGBlogs#OPTIONS" />
		<execute function="#assertClick" locator1="PGBlogs#OPTIONS_MENULIST_CONFIGURATION" value1="Configuration" />

		<execute function="#selectFrame" locator1="PGBlogsConfiguration#CONFIGURATION_IFRAME" />
		<execute function="#assertClick" locator1="PGBlogsConfiguration#NAVIGATION_PERMISSIONS" value1="Permissions" />
	</command>

	<command name="gotoBlogsEntryCP">
		<execute macro="Page#gotoContentCP">
			<var name="pageName" value="${pageName}" />
			<var name="portletName" value="${portletName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<var name="key_entryTitle" value="${entryTitle}" />

		<execute function="#assertClick" locator1="CPBlogs#ENTRY_TABLE_ACTIONS" value1="Actions" />
		<execute function="#assertClick" locator1="CPBlogs#ENTRY_MENULIST_PERMISSIONS" value1="Permissions" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
	</command>

	<command name="gotoBlogsEntryPG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<var name="key_entryTitle" value="${entryTitle}" />

		<execute function="#assertClick" locator1="PGBlogs#ENTRY_PERMISSIONS" value1="Permissions" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
	</command>

	<command name="gotoBlogsPG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<execute function="#assertClick" locator1="PGBlogs#PERMISSIONS_BUTTON" value1="Permissions" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
	</command>

	<command name="gotoConfigurationPG">
		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletOption" value="Configuration" />
		</execute>

		<execute function="#selectFrame" locator1="BasePortletConfiguration#CONFIGURATION_IFRAME" />
		<execute function="#assertClick" locator1="BasePortletConfiguration#NAVIGATION_PERMISSIONS" value1="Permissions" />
	</command>

	<command name="gotoDMFolderPG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<var name="key_dmFolderName" value="${dmFolderName}" />

		<execute function="#click" locator1="PGDocumentsandmedia#ENTRY_ICON_FOLDER_ACTIONS" />
		<execute function="#assertClick" locator1="PGDocumentsandmedia#FOLDER_MENULIST_PERMISSIONS" value1="Permissions" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
	</command>

	<command name="gotoDocumentsAndMediaPG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<execute function="#click" locator1="PGDocumentsandmedia#FILTER_HOME_ACTIONS" />
		<execute function="#assertClick" locator1="PGDocumentsandmedia#HOME_MENULIST_PERMISSIONS" value1="Permissions" />

		<if>
			<condition function="#isElementPresent" locator1="Permissions#PERMISSIONS_IFRAME" />
			<then>
				<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
			</then>
		</if>
	</command>

	<command name="gotoPagePG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
			<var name="siteName" value="${siteName}" />
			<var name="siteURL" value="${siteURLTemp}" />
		</execute>

		<if>
			<condition function="#isElementPresent" locator1="SOUserBar#USER_BAR" />
			<then>
				<if>
					<condition function="#isElementNotPresent" locator1="SOUserBar#VISIBLE_PAGE_CONTROLS" />
					<then>
						<execute function="#click" locator1="SOUserBar#TOGGLE_DOCKBAR" />
					</then>
				</if>
			</then>
		</if>

		<execute function="Click#clickAtSidebarClickAt" locator1="Dockbar#EDIT" />
		<execute function="#click" locator1="Dockbar#EDIT_PERMISSIONS" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
	</command>

	<command name="gotoWCArticle">
		<var name="key_webContentTitle" value="${webContentTitle}" />

		<execute function="#mouseOver" locator1="CPWebcontent#ENTRY_DESCRIPTIVE_THUMBNAIL" />
		<execute function="#assertClick" locator1="CPWebcontent#ENTRY_DESCRIPTIVE_MENULIST_ARROW" />
		<execute function="#assertClick" locator1="CPWebcontent#ENTRY_MENULIST_PERMISSIONS" value1="Permissions" />

		<execute function="#selectFrame" locator1="Permissions#PERMISSIONS_IFRAME" />
		<execute function="#assertTextEquals" locator1="Permissions#HEADER_TITLE" value1="${webContentTitle}" />
	</command>

	<command name="removeViewPermissionFromAllRoles">
		<for list="${roleList}" param="roleName" >
			<var name="roleName" value="${roleName}" />

			<var name="key_roleName" value="${roleName?replace(' ', '-')}" />
			<var name="key_roleName" value="${key_roleName?lowercase()}" />

			<execute function="#uncheck" locator1="Permissions#CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX" />
		</for>

		<execute function="#assertClick" locator1="Permissions#SAVE_BUTTON" value1="Save" />
		<execute function="#assertTextEquals" locator1="Permissions#SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="viewPermissionsRemoved">
		<var name="key_roleName" value="${roleName?replace(' ', '-')}" />
		<var name="key_roleName" value="${key_roleName?lowercase()}" />

		<execute function="#assertNotChecked" locator1="Permissions#${permissionDefinitionKey}" />
	</command>
</definition>